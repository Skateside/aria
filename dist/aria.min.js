/*! aria - v0.1.0 - MIT license - 2018-4-1 */
!function(e){"use strict";let t={},i=e.ARIA,n={configurable:!0,enumerable:!1,writable:!0};function r(e){Object.entries(e).forEach(function([e,i]){Object.defineProperty(t,e,Object.assign({value:i},n))})}Object.defineProperty(t,"VERSION",{configurable:!1,enumerable:!0,writable:!1,value:"0.1.0"}),r({extend:function(e){Object.assign(t,e)},extendHidden:r}),t.noConflict=function(){return e.ARIA=i,t},e.ARIA=t,t.extendHidden({setDOMAttribute(e,t,i){e.setAttribute(t,i)},getDOMAttribute:(e,t)=>e.getAttribute(t),hasDOMAttribute:(e,t)=>e.hasAttribute(t),removeDOMAttribute(e,t){e.removeAttribute(t)}}),t.extendHidden({isArrayLike:e=>!!e&&("number"==typeof e.length||"function"==typeof e[Symbol.iterator]),isObjectLike:e=>null!==e&&"object"==typeof e&&!t.isArrayLike(e),asArray:e=>null==e?[]:"string"!=typeof e&&t.isArrayLike(e)?[...e]:[e],isNode:e=>e instanceof Node,asString:e=>t.isNode(e)?t.identify(e):String(e)}),t.List=class extends Set{constructor(e){let i=t.asArray(e);if(1===i.length&&"string"==typeof i[0]){let e=i[0].trim();i=e?e.split(/\s+/):[]}super(i)}add(...e){e.forEach(e=>super.add.call(this,String(e).trim()))}delete(...e){e.forEach(e=>super.delete.call(this,String(e).trim()))}toArray(e,t){return Array.from(this,e,t)}toString(){return this.toArray().join(" ")}};let a=0;t.extend({getById:document.getElementById.bind(document),defaultIdentifyPrefix:"anonymous-element-",identify(e,i=t.defaultIdentifyPrefix){let n=t.getDOMAttribute(e,"id");if(!n){do{n=i+a,a+=1}while(t.getById(n));t.setDOMAttribute(e,"id",n)}return n}});let s=function(e){return`aria-${String(e).toLowerCase().replace(/^\s*(?:aria\-)?|\s*$/g,"")}`},o={configurable:!1,enumerable:!0,get:()=>s,set(e){s=e}};Object.defineProperties(t,{normalise:o,normalize:o}),t.extendHidden({asRef:e=>new t.List(e).toArray(t.getById),asState:e=>"mixed"===e||"boolean"==typeof e?e:"string"==typeof e&&"true"===e}),t.extend({set:function e(i,n,r){if(t.isObjectLike(n))Object.entries(n).forEach(([t,n])=>e(i,t,n));else{let e=t.normalise(n);"function"==typeof r&&(r=r(i,t.getDOMAttribute(i,e),e));let a=new t.List(t.asArray(r).map(t.asString));t.setDOMAttribute(i,e,a)}},get:(e,i)=>t.getDOMAttribute(e,t.normalise(i)),getRef:(e,i)=>t.asRef(t.get(e,i)),getState:(e,i)=>t.asState(t.get(e,i)),has:(e,i)=>t.hasDOMAttribute(e,t.normalise(i)),hasRef:(e,i)=>t.has(e,i)&&!t.getRef(e,i).includes(null),remove:function e(i,n,r){if(t.isObjectLike(n))Object.entries(n).forEach(([t,n])=>e(i,t,n));else{let a=t.normalise(n);if(null==r)t.removeDOMAttribute(i,a);else{let n=t.getDOMAttribute(i,a);if("function"==typeof r)e(i,a,r(i,n,a));else{let e=new t.List(n),s=t.asArray(r).map(t.asString);e.delete(...s),e.size?t.setDOMAttribute(i,a,e):t.removeDOMAttribute(i,a)}}}},add:function e(i,n,r){if(t.isObjectLike(n))Object.entries(n).forEach(([t,n])=>e(i,t,n));else{let e=t.normalise(n),a=t.getDOMAttribute(i,e);"function"==typeof r&&(r=r(i,a,e));let s=new t.List(a),o=t.asArray(r).map(t.asString);s.add(...o),t.setDOMAttribute(i,e,s)}}}),t.extend({setRole(e,i){t.setDOMAttribute(e,"role",i)},getRole:e=>t.getDOMAttribute(e,"role"),hasRole(e,i){let n=t.hasDOMAttribute(e,"role");if(i&&n){n=new t.List(t.getRole(e)).has(i)}return n},addRole(e,...i){let n=new t.List(t.getRole(e));n.add(...i),t.setRole(e,n)},removeRole:function e(i,...n){if(n.length){let r=new t.List(t.getRole(i));r.delete(...n),r.size?t.setRole(i,r):e(i)}else t.removeDOMAttribute(i,"role")}});let l=["a[href]","button","iframe",'input:not([type="hidden"]):not([type="file"])',"select","textarea","[tabindex]",'[contentEditable="true"]'].map(e=>`${e}:not([disabled]):not([hidden]):not([inert])`).join(",");t.extendHidden({is:(e,t)=>e.matches(t)}),t.extend({focusable:l,makeFocusable(e,i=!1){t.is(e,t.focusable)||t.setDOMAttribute(e,"tabindex",i?0:-1)}}),t.chain=function(e){return new Proxy(t,{get:function(i,n){return"function"==typeof i[n]?function(...r){return t.asArray(e).forEach(function(e){i[n](e,...r)}),this}:i[n]}})},t.extendHidden({observerStore:new WeakMap,addEventListener(e,t,i){e.addEventListener(t,i)},removeEventListener(e,t,i){e.removeEventListener(t,i)},dispatchEvent(e,t,i={}){e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:i}))},createMutationHandler:e=>i=>{i.forEach(t.handleMutation,e)},handleMutation(e){let{type:i,attributeName:n,oldValue:r}=e,a=this;if("attributes"===i&&n.startsWith("aria-")){let e=t.getDOMAttribute(a,n);if(e!==r){let i=t.makeEventName(n);t.dispatchEvent(a,i,{attributeName:n,value:e,oldValue:r})}}}}),t.extend({eventNamePrefix:"wai-aria__",makeEventName:e=>t.eventNamePrefix+t.normalise(e),startListening(e){let i=t.observerStore;if(!i.has(e)){let n=new MutationObserver(t.createMutationHandler(e));n.observe(e,{attributes:!0,attributeOldValue:!0}),i.set(e,n)}},stopListening(e){let i=t.observerStore,n=i.get(e);n&&(n.disconnect(),i.delete(e))},on:function e(i,n,r){if(t.isObjectLike(n))Object.entries(n).forEach(([t,n])=>e(i,t,n));else{let e=new t.List(n);t.startListening(i),e.toArray(t.makeEventName).forEach(function(e){t.addEventListener(i,e,r)})}},off:function e(i,n,r){if(t.isObjectLike(n))Object.entries(n).forEach(([t,n])=>e(i,t,n));else{new t.List(n).toArray(t.makeEventName).forEach(function(e){t.removeEventListener(i,e,r)})}}})}(window);
//# sourceMappingURL=aria.min.js.map
